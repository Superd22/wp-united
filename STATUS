current target: v0.9.1.0

Outstanding reported bugs pending verification:
- On registration easy captcha reloads page to centred '1' (DhrRob) [should be fixed with new context sw]
- logout on viewforum page with rev integration [should be fixed with new context sw]
- get_board_url() somewhere happening without is_enabled() [is_working()] check [should be fixed with new is_working]
- URI too long on connection with error sent back
- W3 total cache is overwriting $config

Committed for vNext:


* NEW: Quick poll widget! Can have multiple polls per page, can submit via AJAX, BBCode & smilies etc. work
* NEW: Forum top bar widget, complete with phpBB-style breadcrumbs in WordPress!
* NEW: Forum birthdays widget!
* NEW: phpBB MOD installation is now more closely checked, and we also ensure the phpBB MOD and WordPress plugin versions match.
* NEW: The cross-post prefix, [BLOG], can now be changed in the settings panel.
* NEW: is_working check
* NEW: Smilies now obey phpBB's max smilies per post setting
* NEW: Get Help screen now shows active plugins, theme and memory settings
* BUGFIX / NEW: Allow password portability for passwords with htmlentities or leading/trailing spaces
* BUGFIX: RTL layout not preserved when using template integration
* BUGFIX: Warnings on reply posting pages due to phpBB request variables interfering with WP_Query when template is integrated.
* BUGFIX: WordPress adding slashes to phpBB post and get variables
* BUGFIX: A number of minor bugs and error notices in widgets
* BUGFIX: Template cache not working when WordPress version has a dash in it (e.g. RC releases)
* BUGFIX: phpBB header/footer added to WP ajax on WordPress-in-phpBB pages
* BUGFIX: WP logout link in user profile/loginblock widget not showing phpBB status if user is not integrated
* BUGFIX: login/out link in "useful links" widget reversug login and logout actions
* BUGFIX: Better error handling if the plugin gets disabled due to errors


TODO:
Send error message back by POST not URI
Admin bar not even appearing on full page rev int
script error on page load on island with style switcher, need forum_fn too?
check what styles we call for non-prosilver for islands
Extract all logic from wpu-actions and style-fixer to reduce needs for phpBB-side updates
Check template loader, ajax?
Update assets

Regressions:
* phpbb prosilver CSS line icon-home etc do not get template-voodoo-ized (perhaps line to long)?

------ cross-posting and comments ---------
-- guest-posting is no longer explicitly disabled, but correct forum permissions must be set. However:
	-- Posts awaiting approval in phpBB don't show up in WP yet
	-- we just die on a username that is already in use, when we should really display a nice msg
	-- e-mail and website don't get saved, and username gets sent back to WP as 'Anonymous'
	-- No checking for username or e-mail clashes in WP
	-- No checking for e-mail clashes in phpBB (we do check for username clash though)
-- Move x-posting to its own tab, independent of user integration
-- Add cross-posting permissions to an additional column in the user mapper -> permissions tab (?)
-- move cross-posting from per-topic to per-post (and topic!) to reduce query load
-- rework html-to-bbcode translation for images with captions
-- make wpu_get_xposted_details() cacheable, and implement a get_topic_url template tag. See http://www.wp-united.com/viewtopic.php?f=9&t=2861 .
-- for each cross-posted comment insert a ghost comment into wordpress with a marker to the phpBB comment (? -- unless we can cleanly generate "comments list to load", see below)
-- override all WP comment loaders (e.g. including in ACP) to merge latest WP posts and phpBB comments into single array


---- template tags -------
user profile block http://www.wp-united.com/viewtopic.php?f=9&t=3279&p=12773


---- general cleanup ----
-- decide what to do with $phpEx global
-- do check on plugin activation for php and wordpress version
-- Profile db queries on page load and integration, and cache more commonly-pulled items 
-- modify version.php to contain compatibility information
-- remove $compat from core-patcher
-- check for caching plugin, esp. w3 total cache & super cache, and check that they are handling phpBB cookie and not causing errors

----- template integration ------------
-- When grepping <title>, check if more than one exists. If so, ignore any commented ones.
-- Odd themes that could do with better auto integration:
----- Arras
----- Templatic Video

---- widgets  --------
-- Add forum selection/deselection option to widget control panel for latest posts and topics widgets
-- Most active forum members widget
-- Most active posts / topics widget
-- phpBB word cloud

------ extras ---------
akismet for phpBB


-------- user blogs --> wp-ms  (v0.9 not contingent on this) ----------
-- check permissions mapping and user creation -- add check for whether they should be given a blog or not when being created
-- check css magic / template voodoo with many different user blog templates at once. (or disallow/warn against wordpress-in-phpbb with wp-ms)
-- add back userblog permissions
-- reconnect blog buttons, consider removing blogid from phpBB
-- check where forum homepage gets added on multiple sites


--------- possible for future versions ---------------
-- increase cookie domain check to also check matching of cookie paths
-- sync avatar to phpBB as 'if gravatar' option?? Can likely leave to next version
-- Add user lookup to permissions mapping tab
-- Add pre-mod routines and scratch/plugins loader folder for plugins or premium options
-- Finish "advanced settings" panel page -- first see what options are around and whether still necessary
-- support custom post types with per-type cross-posting settings
-- add ability to send settings to WP-United.com for analysis/feedback (likely deferred til 1.0)
-- check that we at least load up with Buddypress

------- additional features or 'extras' -----------
-- finish "post to blog" in phpBB, integrate with pressIt
-- search integration
-- use Akismet for phpBB antispam
-- WP media browser in phpBB posting



Other (older) things noticed that may no longer be relevant
---------------------

- consider manually doing make_clickable() on xposted comment text
- Last post time reported different from topic time
- Cross-posted post reported not read, even after reading
- ? author permalinks not working if author permalink with space in username
- wpu_get_xposted_details called multiple times on page view (comments_open, comment load). Result should be cached.
