Actions remaining for release of v0.8
-------------------------------------------------
This is more of a general todo list so that I (John) can prioritise changes 
and stick to a release date. See code documentation for a full list of @todos. 
Al full list of bugs is in the forum bug tracker.
The "DONE" section only contains changes in the final run-up to release

TODO
--------

Forum Page: filter link and add redirect in dashboard

Cross-posting: Fix dates
WordPress detection: Stop using config file
Widgets: Direct link to ACP no longer works with new phpBB form nonce

Cache: Everything should use filemtime checking where possible
Cache: Align all calls
Cache: Ability to purge. Auto-purge on wizard run
Cache: Cache log seems to under-report on occasion after cache is purged

Feeds: Not recognised as XML in Chromium

Plugin: Remove full_path_to_pluigin -- try replacing with __FILE__
Plugin: wpu_must_integrate being called on template_redirect is probably not good -- disabled for now.  Review.
Plugin bugs: have_comments() is returning false when yaapc comments are enabled. Same issue when wpu-plugin is disabled, so may not be a wpu issue.

ACP: wpu-plugin copy doesn't need to look for magic version variable, just use filemtime instead.
ACP: Reset not working
ACP: User mapping errors reported
ACP: remove header fix, and split out "advanced" options to simplify install
ACP: Cache purge

Plugin: Logout etc. links not showing in dashboard
Plugin: Remove v0.6x flat redirection to phpBB for user editing, go back to buffering the dashboard instead
Plugin: JavaScript and CSS should be enqueued

CSS Magic: Add fixes for IE (6,7,8)

Styles: Default padding a little off (?)

User blogs: Check and improve dashboard

============================================

Under consideration for v0.8:
--------------------------------------
Overall architecture: Remove subdomain restrictions
Overall architecture: Plugin fixes extend more general compatibility class -- to allow for simple "compatibility slider" in v0.9
Overall architecture: Script path, URL, etc. still too hard to calculate, messy

============================================

Deferred to v0.9:
----------------------
Cache: WordPress version can be auto-filled -- and WPINC should be dynamic when calculating file path
Use phpBB hook file to include WordPress first, making scope always global
Remove need for blog.php by handling all function collisions is phpBB via the above
Store all sleeping phpBB vars in phpbbForum abstraction, move away from wp-integration-class for handling phpBB state
ACP: Ditch wizard, put settings page into 4 jquery ui tabs, with next/back buttons and a 
submit button on the 4th (or ensure all tabs read on first install).
ACP: Compatibility / Performance slider
Widgets: Add birthdays widget
Widgets: Add AJAX backend framework
style fixer: Try to pull page with fixed links from cache -- perhaps based on quick hash of header content? (unlikely)
Template funcs: Move more phpBB code to phpBB abstraction
Template tags / widget: phpBB "function bar"
Plugin-fixes: Move class to base make-compatible class, and have plugins extend it. 
  Then can move all edits in --  for now, the template-loader edits, but also leave ability to step into all WP code


=============================================

DONE / COMMITTED
-------

- See SVN changelog for complete list
- Plugin-fixes: Recursive includes should only operate on files under wpu-plugin
- Plugin-fixes: Dynamic global variables detection
- Plugin fixes: Repeat for WPMU plugins
- Plugin fixes: Combine themes functions.php etc with plugin fixes
- Split WP page invocation in integration class to 'prepare' and 'do_'
- Removed wp-template-loader.php in favour of parsing WordPress code
- Widgets: Cleaned up latest forum posts template func and widget
- Widgets/template funcs: latest topics & posts now nice and compliant, added some css selectors, removed all redundant markup
- Disabled title munging on full reverse page
- Fixed all styling and args in all widgets and template funcs
- Added new "users online" widget
- style filename cache auto-clears if CSS Magic is disabled.
- ACP: Fixed invalid ajax responses, improved error capturing
- Cache: WP-United version auto-filled
- CSS Magic / template voodoo: Filename hashes use cache class and are unguessable
- Hooks and setup when installLevel < 10 checked
- CSS Magic: Remove reset stylesheet application from CSS magic backend
- Fixed cache/db unload on forward integration
- CSS Magic: Hardened and cleaned up wpu-style-fixer
- CSS Magic - cleaned up style.php actions
- CSS Magic: only replace outer links if template voodoo is active
- CSS Magic - combined wpu-style-fixer and style.php actions
- Renamed several files to improve consistency and make it more obvious what their function is.
- Fixed for WP 2.9
- Added easy option in options.php to disable WP-United template integration to prevent lock-outs
- Cross-posting: Complete re-realisation: 
	- Cross-posted posts can now be edited
	- Cross-posted status is now checked properly, not via form fields
	- Follow-up posts in the forums now replace WordPress comments (TODO: Add option)
	- Comments via the WordPress comment box now go to the forum if the blog post is cross-posted
- Beginning to kill wpuAbs, and replacing with $phpbbForum. TODO: Don't kill $user unless absolutely necessary
- $phpbbForum handles the current state of the integration. $phpbbForum->enter() and $phpbbForum->leave() MUST be called properly before accessing phpBB features from WordPress
- phpBB is now always run, even in the dashboard. (It was anyway, but as a result of convoluted logic, and couldn't e relied upon)
- phpBB varialbes like phpbb_root_path and $phpEx are now consistently available, everywhere. The only ones missing are $user and $cache -- get those via $phpbbForum or phpbbForum->enter()
- New comment and comments class load up phpBB comments into a format edible to WordPress
- Removed all wpuAbs, apart from err_msg, from ACP
- Removed passVars and passBlockVars from ACP. TODO: stop using block vars for conditionals
- Added new cross-posting options, and re-worded cross-posting options. TODO: Link them to new x-posting code
- Most use of wp-united-connection-settings in wpu-plugin removed, as we can now just use $wpSettings and phpbb_root_path everywhere. TODO: normalise scriptPath everywhere!
- Per-user blogs widgets only registered if per-user blogs are enabled
- new cross-posting options now work
- cross-posting comments auto-link fixed as post_id != topic_id
- Fixed core cache being generated every time
- Cache: Added .htaccess to package
- CSS Magic: Template Voodoo fixed (Width of phpBB in Solostream WP-Genius)
- Improved full page reverse integration: auto-insert a Forum page in WordPress
- Language strings: Using phpBB i18n via phpbbForum for all strings, including in wpu-plugin, template-tags and widgets
- ACP: Settings process page fixed
- ACP: Settings page uses AJAX split to install WP-United Connection

